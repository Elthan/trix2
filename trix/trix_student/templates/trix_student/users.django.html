{% extends 'trix_student/base.django.html' %}
{% load i18n %}

{% block not_signed_in_warning %}{% endblock %}

{% block title %}{% trans "User" %}{% endblock %}

{% block body %}
<div class="page-header">
    <div class="container">
        <div class="trix-user-text">
            <h1>{% trans "Account overview" %}</h3>
            <ul class="list-unstyled">
                <li>
                    <h3>{% trans "Email" %}</h3>
                    <p>{{ user }}</p>
                </li>
                <li>
                    <h3>{% trans "Last login" %}</h3>
                    <p>{{ user.last_login }}</p>
                </li>
                <li>
                    <h3>{% trans "Data collection" %}</h3>
                    {% if user.has_consented %}
                        <p>{% trans "Consented: " %}{{ user.consent_datetime }}</p>
                    {% else %}
                        <p>{% trans "Has not consented" %}</p>
                    {% endif %}
                    <a href="{% url 'trix_consent_form' %}">
                        {% trans "Consent form" %}
                    </a>
                </li>
                <li>
                    <h3>{% trans "Role" %}</h3>
                    <p>{{ user_role }}</p>
                </li>
                <li>
                    <h3>{% trans "Experience" %}</h3>
                    <div ng-controller="AssignmentListProgressController"
                         class="trix-user-level-progress"
                         ng-cloak>
                         <p>{% trans "Level" %}: {{ user.level }}</p>
                         <div class="progress">
                            <div class="progress-bar bg-success"
                                 role="progressbar"
                                 aria-valuenow="{{ user.level_progress }}"
                                 aria-valuemin="0"
                                 aria-valuemax="100"
                                 style="width: {{ user.level_progress }}%;">
                                {{ user.experience }}
                            </div>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="{% url 'trix_user_statistics' %}">
                        <h3>{% trans "Statistics" %}</h3>
                    </a>
                </li>
            </ul>
        </div>
        <div class="trix-user-buttons">
            <a href="{% url 'trix_delete_user' pk=user.id %}" class="btn btn-danger">
                <span class="fa fa-bin"></span>
                {% trans "DELETE ME" %}
            </a>
        </div>
    </div>
</div>
{% endblock body %}
